/*!
 * eocjsNewsticker v0.6.2
 * Copyright (c) 2022 Dieter Schmitt
 * Released under the MIT license - https://opensource.org/licenses/MIT
 */ !function(t,e,i,n){t.fn.eocjsNewsticker=function(i){let s=t.extend({},{speed:20,timeout:1,divider:"+++",type:"static",source:"",dataType:"json",callback:"callback",fetch:!1,interval:120,direction:"ltr",transform:null,getContentArray:()=>[]},i),r=this,o=r.html(),c="eocjs-newsticker-active",a={},d={},f={},l={},u=!1,$=!1,p=t(e),w=p.width();function h(t,e){let i="",r=s.direction;return"prefix"===t?i=e===n?"rtl"!==r?"":s.divider+" ":"rtl"!==r?e+" ":s.divider+" ":"suffix"===t?i=e===n?"rtl"!==r?" "+s.divider:"":"rtl"!==r?" "+s.divider:" "+e:"start"===t?i="rtl"!==r?"left":"right":"end"===t?i="rtl"!==r?"right":"left":"update"===t?i=e===n?"rtl"!==r?"append":"prepend":"rtl"!==r?" "+e:e+" ":"position"===t&&(i="rtl"!==r&&e.position().left>0||"rtl"===r&&a.width()-(e.position().left+e.width())>0),i}function j(e,i,n,s){return"json"===i&&s?fetch(e).then(function(t){return t.json()}):t.ajax({url:e,dataType:i,jsonpCallback:n})}function k(e){if(o="",t.isPlainObject(e)&&!t.isEmptyObject(e))for(let i in e)e.hasOwnProperty(i)&&(o=""===o?h("prefix")+e[i]+h("suffix"):h("prefix",o)+e[i]+h("suffix",o));else if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n+=1)o=""===o?h("prefix")+e[n]+h("suffix"):h("prefix",o)+e[n]+h("suffix",o);else o=" "}function v(t){x(l,t),f.css({[h("start")]:d.width()})}function m(t,e){v(t),setTimeout(function(){e>0&&v(t);let i=d.width(),n=s.speed*i;y(d,0,-i,n),y(f,i,0,n)},e)}function x(t,e){for(t.html(e);a.width()>t.width();)t[h("update")](h("update",e));t[h("update")]("&nbsp;")}function y(t,e,i,n){t.animate({[h("start")]:i},n,"linear",function(){let i;0!==d.width()&&0!==f.width()&&(0===e?(t===d&&u?(x(d,o),u=!1):t===f&&$&&(x(f,o),$=!1),i=t===d?f.width():d.width(),n=s.speed*i,t.css({[h("start")]:i}),y(t,i,0,n)):(i=t===d?d.width():f.width(),n=s.speed*i,y(t,0,-i,n)))})}return p.on("resize",function(){let t=p.width();t!=w&&(t>w?h("position",d)?(x(d,o),$=!0):h("position",f)&&(x(f,o),u=!0):(u=!0,$=!0),w=t)}),r.hasClass(c)||(r.addClass("eocjs-newsticker").html('<div class="eocjs-newsticker-container"><div class="eocjs-newsticker-one"></div><div class="eocjs-newsticker-two"></div></div>'),a=r.find(".eocjs-newsticker-container"),d=r.find(".eocjs-newsticker-one"),f=r.find(".eocjs-newsticker-two"),(l=r.find(".eocjs-newsticker-one, .eocjs-newsticker-two")).css({[h("start")]:0,[h("end")]:"auto"}),function e(){if("static"===s.type)m(o=h("prefix")+o+h("suffix"),1e3*s.timeout);else if("dynamic"===s.type){let i=s.getContentArray();k(i),m(o,1e3*s.timeout);let n=setInterval(function(){d.width()||f.width()||clearInterval(n);let t=s.getContentArray();k(t),u=!0,$=!0},1e3*s.interval)}else"ajax"===s.type&&(a.prepend('<div class="eocjs-newsticker-loader"></div>'),t.when(j(s.source,s.dataType,s.callback,s.fetch)).done(function(e){s.transform&&(e=s.transform(e)),k(e),a.find(".eocjs-newsticker-loader").fadeOut(300,function(){m(o,1e3*s.timeout),t(this).remove()}),setInterval(function(){t.when(j(s.source,s.dataType,s.callback,s.fetch)).done(function(t){s.transform&&(t=s.transform(t)),k(t),u=!0,$=!0})},1e3*s.interval)}))}(),r.addClass(c)),this}}(jQuery,window,document);
